{"version":3,"file":"back-ng.mjs","sources":["../../projects/back-ng/src/lib/back-ng.service.ts","../../projects/back-ng/src/lib/back-ng.directive.ts","../../projects/back-ng/src/lib/back-ng.module.ts","../../projects/back-ng/src/back-ng.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\n/**\n * BackNG Service for handling browser history and routing stack\n * \n * @export\n * @class BackNGService\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class BackNGService {\n  /**\n   * The stack of the route based history\n   * \n   * @private\n   * @type {string[]}\n   * @memberOf BackNGService\n   */\n  private past_stack: string[]\n\n  /**\n   * Creates an instance of BackNGService.\n   * @param {Router} router \n   * @param {Location} location \n   * \n   * @memberOf BackNGService\n   */\n  constructor(private router: Router, private location: Location) {\n    this.past_stack = [];\n    this.router.events.subscribe((event) => {\n      if (event instanceof NavigationEnd) {\n        this.past_stack.push(event.urlAfterRedirects);\n      }\n    })\n  }\n\n  /**\n   * Back function that handles the back routing to the previous page if applicable.\n   * \n   * \n   * @memberOf BackNGService\n   */\n  public back(): void {\n    this.past_stack.pop();\n    if (this.past_stack.length > 0) {\n      this.location.back();\n    } else {\n      this.router.navigateByUrl(\"/\");\n    }\n  }\n}\n","import { Directive, HostListener } from \"@angular/core\";\nimport { BackNGService } from \"./back-ng.service\";\n\n/**\n * Directive for implementing the BackNG service for handling route based back naviagtion.\n * \n * @export\n * @class BackNGDirective\n */\n@Directive({\n    selector: \"[BackNG]\",\n})\nexport class BackNGDirective {\n    /**\n     * Creates an instance of BackNGDirective.\n     * @param {BackNGService} nav Instance of the BackNGService.\n     * \n     * @memberOf BackNGDirective\n     */\n    constructor(private nav: BackNGService) { }\n\n    /**\n     * On Click event handler to trigger BackNGService back function.\n     * \n     * \n     * @memberOf BackNGDirective\n     */\n    @HostListener(\"click\")\n    onClick(): void {\n        this.nav.back();\n    }\n}","import { NgModule } from '@angular/core';\nimport { BackNGDirective } from './back-ng.directive';\n\n/**\n * BackNG Module\n * \n * @export\n * @class BackNGModule\n */\n@NgModule({\n  declarations: [\n    BackNGDirective\n  ],\n  imports: [\n  ],\n  exports: [\n    BackNGDirective\n  ]\n})\nexport class BackNGModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './backng';\n"],"names":["i1.BackNGService"],"mappings":"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"}